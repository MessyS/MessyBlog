<p></p><p>数据库安全加固</p><p><strong>&nbsp;</strong></p><p><strong>任务环境说明：</strong></p><p>服务器场景：WebServ2003（用户名：administrator；密码：空）</p><p>服务器场景操作系统：Microsoft Windows2003 Server</p><p>服务器场景安装服务/工具1：Apache2.2；</p><p>服务器场景安装服务/工具2：Php6；</p><p>服务器场景安装服务/工具3：Microsoft SqlServer2000；</p><p>服务器场景安装服务/工具4：EditPlus；</p><p>网络拓扑：01-WebServ2003--02-AttWinXp</p><p>windows server 2003<br />用户：administrator<br />密码：空</p><p>bt5&nbsp;<br />用户：root<br />密码：toor</p><p>1.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 对服务器场景WebServ2003安装补丁，使其中的数据库Microsoft SqlServer2000能够支持远程连接，并将补丁包程序所在目录名称作为Flag提交；</p><p>&nbsp;</p><p>找到该补丁包并安装</p><p>&nbsp;<img src="api/attachment?type=courseDocument&amp;id=1656" style="height:411pt; width:389.4pt" /></p><p>&nbsp;</p><p>Flag：SQL2KSP4</p><p>&nbsp;</p><p>2.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 对服务器场景WebServ2003安装补丁，使其中的数据库Microsoft SqlServer2000能够支持远程连接，在安装补丁后的服务器场景中运行netstat &ndash;an命令，将回显的数据库服务连接状态作为Flag提交；</p><p>&nbsp;</p><p>&nbsp;<img src="api/attachment?type=courseDocument&amp;id=1655" style="height:251.4pt; width:6in" /></p><p>&nbsp;</p><p>Flag：TCP 0.0.0.0:1433 0.0.0.0:0 LISTENING</p><p>&nbsp;</p><p>&nbsp;</p><p>3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 通过PC2中的渗透测试平台对服务器场景WebServ2003进行数据库服务扫描渗透测试，并将扫描结果作为Flag提交；</p><p>&nbsp;</p><p>Flag：1433/tcp open ms-sql-s Microsoft SQL Server 2000 8.00.2039;SP4</p><p>&nbsp;</p><p>&nbsp;</p><p>4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 通过PC2中的渗透测试平台对服务器场景WebServ2003进行数据库服务超级管理员口令暴力破解（使用PC2中的渗透测试平台中的字典文件superdic.txt），并将破解结果中的最后一个字符串作为Flag提交；</p><p>&nbsp;</p><p>&nbsp;<img src="api/attachment?type=courseDocument&amp;id=1675" style="height:32.4pt; width:159.6pt" /></p><p>设置字典路径</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <img src="api/attachment?type=courseDocument&amp;id=1673" style="height:33.6pt; width:424.2pt" /></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 设置目标ip</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <img src="api/attachment?type=courseDocument&amp;id=1663" style="height:27.6pt; width:364.2pt" /></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <img src="api/attachment?type=courseDocument&amp;id=1661" style="height:21.6pt; width:269.4pt" /></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <img src="api/attachment?type=courseDocument&amp;id=1677" style="height:70.8pt; width:6in" /></p><p>&nbsp;</p><p>Flag：&lsquo;root&rsquo;</p><p>&nbsp;</p><p>5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 通过PC2中的渗透测试平台对服务器场景WebServ2003进行数据库服务扩展存储过程进行利用，删除WebServ2003服务器场景C:\1.txt，并将渗透测试利用命令以及渗透测试平台run结果第1行回显作为Flag提交；</p><p>&nbsp;</p><p>Flag：[*]SQL Query:EXEC master..xp_cmdshell &lsquo;cmd.exe /c del c:\1.txt&rsquo;</p><p>&nbsp;</p><p>&nbsp;</p><p>6.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 通过对服务器场景WebServ2003的数据库服务进行安全加固，阻止PC2中渗透测试平台对其进行数据库超级管理员密码暴力破解渗透测试，并将加固身份验证选项中的最后一个字符串作为Flag提交：</p><p>&nbsp;</p><p>Flag：Windows[W]</p><p>&nbsp;</p><p>7.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 验证在WebServ2003的数据库服务进行安全加固后，再次通过PC2中渗透测试平台对服务器场景WebServ2003进行数据库服务超级管理员口令进行暴力破解（使用PC2中的渗透测试平台中的字典文件superdic.txt），并将破解结果的上数第3行内容作为Flag提交；</p><p>加固后再次通过PC2中渗透测试平台对服务器场景WebServ2003进行数据库服务超级管理员口令进行暴力破解</p><p>Flag：failed to login as &#39;sa&#39;</p>