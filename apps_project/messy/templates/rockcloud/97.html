<p></p><p>【教学资源类别】</p><table border="1" cellspacing="0" style="width:0px">	<tbody>		<tr>			<td style="vertical-align:top; width:142.0pt">			<p><strong>序号</strong></p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p><strong>类别</strong></p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p><strong>打勾&radic;</strong></p>			</td>		</tr>		<tr>			<td style="vertical-align:top; width:142.0pt">			<p>1</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>学习资源</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p><strong>&radic;</strong></p>			</td>		</tr>		<tr>			<td style="vertical-align:top; width:142.0pt">			<p>2</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>单兵模式赛题资源</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="vertical-align:top; width:142.0pt">			<p>3</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>分组对抗赛题资源</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>&nbsp;</p>			</td>		</tr>	</tbody></table><p>&nbsp;【教学资源名称】&nbsp;</p><p>渗透测试常用工具-使用zenmap进行端口扫描</p><p>&nbsp;【教学资源分类】</p><table border="1" cellspacing="0" style="width:0px">	<tbody>		<tr>			<td style="height:14.0pt; width:106.95pt">			<p><strong>一级大类</strong></p>			</td>			<td style="height:14.0pt; width:237.7pt">			<p><strong>二级大类</strong></p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p><strong>打勾&radic;</strong></p>			</td>		</tr>		<tr>			<td rowspan="5" style="height:14.0pt; width:106.95pt">			<p>1.安全标准</p>			</td>			<td style="height:14.0pt; width:237.7pt">			<p>法律法规</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>行业标准</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>安全意识</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>应急响应</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>安全评估</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td rowspan="2" style="height:14.0pt; width:106.95pt">			<p>2.系统安全</p>			</td>			<td style="height:14.0pt; width:237.7pt">			<p>Windows操作系统安全配置</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>Linux操作系统安全配置</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td rowspan="2" style="height:14.0pt; width:106.95pt">			<p>3.网络安全</p>			</td>			<td style="height:14.0pt; width:237.7pt">			<p>网络设备安全</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>网络协议分析</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td rowspan="7" style="height:14.0pt; width:106.95pt">			<p>4.应用安全</p>			</td>			<td style="height:14.0pt; width:237.7pt">			<p>Web应用安全</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>数据库安全</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>中间件应用安全</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>应用层协议分析</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p><strong>&radic;</strong></p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>移动应用安全</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>VPN应用</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>恶意代码分析</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td rowspan="2" style="height:14.0pt; width:106.95pt">			<p>5.密码学</p>			</td>			<td style="height:14.0pt; width:237.7pt">			<p>密码学原理</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>密码学应用</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td rowspan="3" style="height:14.0pt; width:106.95pt">			<p>6.渗透测试</p>			</td>			<td style="height:14.0pt; width:237.7pt">			<p>常用工具</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p><strong>&radic;</strong></p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>脚本编写</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>报告编写</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>	</tbody></table><p>【难度说明】</p><table border="1" cellspacing="0" style="width:0px">	<tbody>		<tr>			<td style="vertical-align:top; width:142.0pt">			<p><strong>序号</strong></p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p><strong>难度等级</strong></p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p><strong>打勾&radic;</strong></p>			</td>		</tr>		<tr>			<td style="vertical-align:top; width:142.0pt">			<p>1</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>简单</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p><strong>&radic;</strong></p>			</td>		</tr>		<tr>			<td style="vertical-align:top; width:142.0pt">			<p>2</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>一般</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="vertical-align:top; width:142.0pt">			<p>3</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>困难</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="vertical-align:top; width:142.0pt">			<p>4</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>极难</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>&nbsp;</p>			</td>		</tr>	</tbody></table><p>【背景描述】</p><p>XX企业，为加强信息化建设，组建了企业内部网络，用于自身网站的建设，小王是该企业新进网管，承担网络的管理工作。现该企业网络存在如下需求：</p><p>查看内网机器开放的端口及系统的识别</p><p>&nbsp;【实训设备】</p><table border="1" cellspacing="0" style="width:0px">	<tbody>		<tr>			<td style="vertical-align:top; width:146.65pt">			<p>产品型号</p>			</td>			<td style="vertical-align:top; width:166.25pt">			<p>产品描述</p>			</td>			<td style="vertical-align:top; width:69.8pt">			<p>数量</p>			</td>		</tr>		<tr>			<td style="vertical-align:top; width:146.65pt">			<p>PY-P8</p>			</td>			<td style="vertical-align:top; width:166.25pt">			<p>实训室安全、应用环境实训平台</p>			</td>			<td style="vertical-align:top; width:69.8pt">			<p>1</p>			</td>		</tr>	</tbody></table><p>&nbsp;</p><p>【软件版本】<br />&nbsp;&nbsp;&nbsp; <strong>【靶机】</strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 操作系统：Windows Server 2003</p><p>&nbsp;【<strong>渗透测试机</strong>】</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 操作系统：Backtrack5 R3</p><p>&nbsp;&nbsp;&nbsp;&nbsp; <strong>【工具集】</strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; zenmap</p><p>【预备知识】</p><p>Zenmap是nmap的GUI版本，由nmap官方提供，通常随着nmap安装包一起发布。Zenmap是用Python 语言编写的，能够在Windows、Linux、UNIX、Mac OS等不同系统上运行。开发Zenmap的目的主要是为nmap提供更加简单的操作方式。</p><p>&nbsp;</p><p>【实验步骤】</p><p>&nbsp;&nbsp;网络拓扑：bt5--01-server2003</p><p>&nbsp; bt5&nbsp;<br />&nbsp; 用户：root<br />&nbsp; 密码：toor</p><p>&nbsp; windows server 2003<br />&nbsp; 用户：administrator<br />&nbsp; 密码：123456</p><p><strong>【第一步】点击启动选项，启动实验虚拟机。</strong></p><p><strong>【第二步】获取操作机和靶机的IP</strong></p><p>&nbsp;&nbsp; 操作机：<strong>ifconfig</strong></p><p>靶机：ipconfig</p><p>【<strong>使用到的命令</strong>】</p><p>BT5：通过ifconfig获取</p><p>Windows Server：通过ipconfig获取</p><p>【<strong>工具原理</strong>】</p><p>TCP是因特网中的传输层协议，使用三次握手协议建立连接。当主动方发出SYN连接请求后，等待对方回答</p><p>TCP的三次握手</p><p>TCP的三次握手</p><p>SYN+ACK[1]&nbsp; ，并最终对对方的 SYN 执行 ACK 确认。这种建立连接的方法可以防止产生错误的连接，TCP使用的流量控制协议是可变大小的滑动窗口协议。</p><p>TCP三次握手的过程如下：</p><p>【1】客户端发送SYN（SEQ=x）报文给服务器端，进入SYN_SEND状态。</p><p>【2】服务器端收到SYN报文，回应一个SYN （SEQ=y）ACK(ACK=x+1)报文，进入SYN_RECV</p><p>状态。</p><p>【3】客户端收到服务器端的SYN报文，回应一个ACK(ACK=y+1)报文，进入Established</p><p>状态。</p><p><strong>【第三步】使用wireshark 分析一下数据包</strong></p><p>我们使用一个常规的扫描进行抓包</p><p>可以发现 在进行扫描的时候 首先发送ARP数据包 探测目标的机器是否存活</p><p>&nbsp;</p><p>这些包是BT5对靶机进行爆破性的一个扫描&nbsp; 对靶机进行发包 然后 靶机并没有回应给我们一个返回值 所以端口端口是没有开放的</p><p>以80端口为例讲解一下这里是BT5对靶机的一个发包 端口80</p><p>这里是靶机对BT5的一个回应80的包</p><p>这个包是BT5收到靶机回应的包 回应一个报文，进入Established状态。</p><p><strong>【第四步】对主机（Windows Server）进行扫描</strong></p><p>从BT5主机输入zenmap我们可以打开zenmap这个工具</p><p>然后我们点击这个profile这个框 发现有很多种扫描方式</p><p>对profile参数的解释</p><p>【1】&nbsp; Intense scan:强烈的扫描</p><p>【2】&nbsp; Intensescan plus UDP:强烈的扫描,加上udp协议扫描</p><p>【3】&nbsp; Intense scan, all TCP ports：对目标的所有端口进行强烈的扫描</p><p>【4】&nbsp; Intensescan, no ping：对目标进行强烈的扫描，不进行主机发现</p><p>【5】&nbsp; Ping scan&nbsp; 在发现主机后，不进行端口扫描</p><p>【6】&nbsp; Quick scan：快速扫描</p><p>【7】&nbsp; Quickscan plus:更快速的扫描</p><p>【8】&nbsp; Quick traceroute：快速扫描，不扫端口返回每一跳的主机ip</p><p>【9】&nbsp; Regular scan:常规扫描</p><p>【10】 Slow comprehensive scan：慢速综合性扫描）</p><p>大体功能介绍一下</p><p>【1】Port/hosts 是扫描端口的开放情况</p><p>【2】Topology是网络的一个拓扑结构</p><p>【3】Host Details 是扫描到主机的信息&nbsp;&nbsp;&nbsp;</p><p>【4】Scans是扫描的语法</p><p><strong>【第一种】使用Interse scan进行扫描</strong></p><p>在Target输入靶机的IP地址 这个时候command自动会写入IP地址 扫描方式选择</p><p>Intense scan 点击scan</p><p>这个时候发现扫描已经完成了&nbsp; 在左边的Hosts显示靶机的IP地址</p><p>OS: 是操作系统的类型 windows 2003 sp2</p><p>Computer name :是计算机的名字&nbsp; test-0ead2165ff</p><p>Workgroup 是工作组</p><p>System time是系统的时间</p><p>通过结果可以发现主机开放的端口以及主机的操作系统 MAC地址等</p><p>Port /Hosts&nbsp; 是扫描靶机开放的端口</p><p>通过结果可以发现 开放了以下端口</p><p>21 80 135 139 445 1026 1053 3306 3389 后面跟的Service是端口开放的服务&nbsp; version</p><p>是开放服务的版本信息</p><p>这一个显示机器的拓扑结构</p><p>这个Host Details是显示主机的细节 可以看到主机的名字 操作系统</p><p>【<strong>第二种】使用Intensescan plus UDP进行udp协议扫描</strong></p><p>通过扫描 可以发现这个和TCP扫描的区别是这个命令不仅仅可以进行TCP扫描 而且</p><p>可以进行UDP扫描&nbsp;&nbsp;</p><p><strong>【第三种】使用Regular scan进行扫描</strong></p><p>NMAP回显的结果只有端口</p><p>我们看一下看看能否探测到主机的操作系统</p><p>通过回显的结果看到 并没有探测到主机的操作系统 仅仅是队友端口的一个扫描</p><p><strong>【第四种】使用Ping scan对靶机进行存活性的扫描</strong></p><p>通过结果可以发现 仅仅是对主机存活性进行了检测&nbsp; 并没有对端口 操作系统等进行探测</p><p><strong>【第五种】我们可以使用Intensescan</strong></p><p>no ping：对目标进行强烈的扫描，不进行主机发现</p><p>Port /Hosts&nbsp; 是扫描靶机开放的端口</p><p>通过结果可以发现 开放了以下端口</p><p>21 80 135 139 445 1026 1053 3306 3389 后面跟的Service是端口开放的服务&nbsp; version</p><p>是开放服务的版本信息</p><p>&nbsp;</p><p>实验结束，关闭虚拟机。</p>