<p></p><p>【教学资源类别】</p><table border="1" cellspacing="0" style="width:0px">	<tbody>		<tr>			<td style="vertical-align:top; width:142.0pt">			<p><strong>序号</strong></p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p><strong>类别</strong></p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p><strong>打勾&radic;</strong></p>			</td>		</tr>		<tr>			<td style="vertical-align:top; width:142.0pt">			<p>1</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>学习资源</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p><strong>&radic;</strong></p>			</td>		</tr>		<tr>			<td style="vertical-align:top; width:142.0pt">			<p>2</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>单兵模式赛题资源</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="vertical-align:top; width:142.0pt">			<p>3</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>分组对抗赛题资源</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>&nbsp;</p>			</td>		</tr>	</tbody></table><p>&nbsp;【教学资源名称】&nbsp;</p><p>渗透测试常用工具-使用Metasploit进行漏洞利用</p><p>【教学资源分类】</p><table border="1" cellspacing="0" style="width:0px">	<tbody>		<tr>			<td style="height:14.0pt; width:106.95pt">			<p><strong>一级大类</strong></p>			</td>			<td style="height:14.0pt; width:237.7pt">			<p><strong>二级大类</strong></p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p><strong>打勾&radic;</strong></p>			</td>		</tr>		<tr>			<td rowspan="5" style="height:14.0pt; width:106.95pt">			<p>1.安全标准</p>			</td>			<td style="height:14.0pt; width:237.7pt">			<p>法律法规</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>行业标准</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>安全意识</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>应急响应</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>安全评估</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td rowspan="2" style="height:14.0pt; width:106.95pt">			<p>2.系统安全</p>			</td>			<td style="height:14.0pt; width:237.7pt">			<p>Windows操作系统安全配置</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>Linux操作系统安全配置</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td rowspan="2" style="height:14.0pt; width:106.95pt">			<p>3.网络安全</p>			</td>			<td style="height:14.0pt; width:237.7pt">			<p>网络设备安全</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>网络协议分析</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td rowspan="7" style="height:14.0pt; width:106.95pt">			<p>4.应用安全</p>			</td>			<td style="height:14.0pt; width:237.7pt">			<p>Web应用安全</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>数据库安全</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:18.35pt; width:237.7pt">			<p>中间件应用安全</p>			</td>			<td style="height:18.35pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>应用层协议分析</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p><strong>&radic;</strong></p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>移动应用安全</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>VPN应用</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>恶意代码分析</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td rowspan="2" style="height:14.0pt; width:106.95pt">			<p>5.密码学</p>			</td>			<td style="height:14.0pt; width:237.7pt">			<p>密码学原理</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>密码学应用</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td rowspan="3" style="height:14.0pt; width:106.95pt">			<p>6.渗透测试</p>			</td>			<td style="height:14.0pt; width:237.7pt">			<p>常用工具</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p><strong>&radic;</strong></p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>脚本编写</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="height:14.0pt; width:237.7pt">			<p>报告编写</p>			</td>			<td style="height:14.0pt; width:81.45pt">			<p>&nbsp;</p>			</td>		</tr>	</tbody></table><p>【难度说明】</p><table border="1" cellspacing="0" style="width:0px">	<tbody>		<tr>			<td style="vertical-align:top; width:142.0pt">			<p><strong>序号</strong></p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p><strong>难度等级</strong></p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p><strong>打勾&radic;</strong></p>			</td>		</tr>		<tr>			<td style="vertical-align:top; width:142.0pt">			<p>1</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>简单</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p><strong>&radic;</strong></p>			</td>		</tr>		<tr>			<td style="vertical-align:top; width:142.0pt">			<p>2</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>一般</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="vertical-align:top; width:142.0pt">			<p>3</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>困难</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>&nbsp;</p>			</td>		</tr>		<tr>			<td style="vertical-align:top; width:142.0pt">			<p>4</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>极难</p>			</td>			<td style="vertical-align:top; width:142.05pt">			<p>&nbsp;</p>			</td>		</tr>	</tbody></table><p>【背景描述】</p><p>某企业，由于对信息安全不重视，使用了MYSQL弱口令，并且未做访问控制，导致了数据库</p><p>密码被成功破解，企业数据泄露。</p><p>&nbsp;【实训设备】</p><table border="1" cellspacing="0" style="width:0px">	<tbody>		<tr>			<td style="vertical-align:top; width:146.65pt">			<p>产品型号</p>			</td>			<td style="vertical-align:top; width:166.25pt">			<p>产品描述</p>			</td>			<td style="vertical-align:top; width:69.8pt">			<p>数量</p>			</td>		</tr>		<tr>			<td style="vertical-align:top; width:146.65pt">			<p>PY-P8</p>			</td>			<td style="vertical-align:top; width:166.25pt">			<p>实训室安全、应用环境实训平台</p>			</td>			<td style="vertical-align:top; width:69.8pt">			<p>1</p>			</td>		</tr>	</tbody></table><p>【预备知识】</p><p>Metasploit是一个免费的、可下载的框架，通过它可以很容易地获取、开发并对计算机软</p><p>件漏洞实施攻击。它本身附带数百个已知软件漏洞的专业级漏洞攻击工具。当H.D. Moore</p><p>在2003年发布Metasploit时，计算机安全状况也被永久性地改变了。仿佛一夜之间，任</p><p>何人都可以成为黑客，每个人都可以使用攻击工具来攻击那些未打过补丁或者刚刚打过补</p><p>丁的漏洞。软件厂商再也不能推迟发布针对已公布漏洞的补丁了，这是因为Metasploit团</p><p>队一直都在努力开发各种攻击工具，并将它们贡献给所有Metasploit用户。</p><p>Metasploit的设计初衷是打造成一个攻击工具开发平台，然而在目前情况下，安全专家以</p><p>及业余安全爱好者更多地将其当作一种点几下鼠标就可以利用其中附带的攻击工具进行成</p><p>功攻击的环境。</p><p>【实验步骤】</p><p>&nbsp; 网络拓扑：bt5--01-server2003</p><p>&nbsp; bt5&nbsp;<br />&nbsp; 用户：root<br />&nbsp; 密码：toor</p><p>&nbsp; windows server 2003<br />&nbsp; 用户：administrator<br />&nbsp; 密码：123456</p><p><strong>&nbsp;</strong><strong>【第一步】点击启动选项，启动实验虚拟机。</strong></p><p><strong>&nbsp;</strong><strong>【第二步】获取操作机和靶机的IP</strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp; 操作机：<strong>ifconfig</strong></p><p>&nbsp;<img src="api/attachment?type=courseDocument&amp;id=2392" style="height:230px; width:464px" /></p><p>&nbsp;&nbsp;&nbsp;&nbsp; 靶机：<strong>ipconfig</strong></p><p>&nbsp;<img src="api/attachment?type=courseDocument&amp;id=2386" style="height:162px; width:450px" /></p><p><strong>【所使用到的命令】</strong></p><p>&nbsp;BT5：通过ifconfig获取</p><p>&nbsp;Windows Server：通过ipconfig获取</p><p>&nbsp;ifconfig 【查看网卡中所包含的信息，例如：ifcofig -i eth0是查看eth0的信息】</p><p><strong>【第三步】输入msfconsole,运行metasploit工具</strong></p><p>&nbsp;【<strong>模块介绍】</strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp; 【exploits<strong>】</strong>利用分类，主要存放一些溢出类漏洞利用模块</p><p>&nbsp;【auxiliary<strong>】</strong>此分类为辅助模块，主要存放扫描爆破等</p><p>&nbsp;【payloads<strong>】</strong>此分类为后门模块，主要承载漏洞利用成功后对受害机器的控制</p><p>&nbsp;【encoders<strong>】</strong>此分类为编码模块，对恶意代码进行编码可绕过杀软特征码查杀</p><p>&nbsp;【nops<strong>】</strong>此分类为空字符模块，在灰鸽子等远控软件泛滥的年代，杀软较为落后，多以特</p><p>&nbsp; 征码去匹配是否是恶意软件，特征码定位，空字符填充也就成了当时主流的免杀手段一</p><p>&nbsp;<img src="api/attachment?type=courseDocument&amp;id=2384" style="height:360px; width:511px" /></p><p>下面我们来看一下他们在BT5中所在的目录以及模块，依次打开places-computer-file</p><p>system-opt-metasploit-msf3-modules</p><p>我们先看一下辅助模块</p><p>我们再来看一下exploits目录里的利用模块以及分类</p><p>下面我们再来看一下encodes目录，这个里面是编码模块</p><p>下面是payloads目录</p><p>下面来看一下POST目录</p><p>下面是nops</p><p>我们以mysql口令破解为例，来介绍msf的使用</p><p><strong>【第一步】</strong><strong>配置环境</strong></p><p>下载安装phpstudy，启动靶机中的mysql服务</p><p><strong>【第二步】</strong><strong>制作字典</strong></p><p>由于是测试，我们手工写入几个错误密码，中间夹杂正确密码</p><p>&nbsp;</p><p><strong>【第三步】使用db_nmap</strong></p><p>db_nmap和NMAP使用方法一样，需要本地安装nmap，才能在msf中正常被调用进行端口扫</p><p>描，使用-A、-Pn参数</p><p>【-A】扫描主机端口详细信息</p><p>【-Pn】不做DNS解析</p><p><strong>【所使用到的命令】</strong></p><p>【msfconsole】 运行msf工具</p><p>【db_nmap -A IP -Pn】对一个IP详细信息进行扫描</p><p>【例如】db_nmap -A 192.168.0.177&nbsp; -Pn</p><p><strong>【第四步】得到如下信息</strong></p><p>【端口】3306</p><p>【传输协议】tcp</p><p>【开放】open</p><p>综上所述得知，对方开放了3306端口并且指纹信息为MYSQL服务，下面我们就在MSF</p><p>中找对其爆破模块【使用search命令】</p><p><strong>【所使用到的命令】</strong></p><p>【search mysql 】:搜索漏洞模块命令</p><p>【例如】:search mysql 、search mssql</p><p><strong>【第五步】利用漏洞模块，查看配置信息</strong></p><p>我们调用使用use命令，并查看使用show options命令需要配置的信息</p><p>【<strong>所使用到的命令</strong>】</p><p>【use auxiliary/scanner/mysql/mysql_login】使用use命令调用了</p><p>&nbsp;auxiliary/scanner/mysql/mysql_login模块</p><p>【show options】查看已被调用模块当前配置详情</p><p>&nbsp;</p><p><strong>【第六步】配置</strong></p><p>设置目标地址为192.168.0.177，设置mysql用户名为root设置密码字典文件路径为当前</p><p>目录的password.txt,并且设置线程为5，设置完后使用show option再次查看设置是否确</p><p>&nbsp;</p><p>【<strong>所使用到的命令</strong>】</p><p>【set RHOSTS 192.168.0.177】设置目标地址为192.168.0.177</p><p>【set username root】配置USERNAME为root, mysql默认账号为root</p><p>【set USERPASS_FILE /password.txt】配置爆破密码文件字典为 /password.txt</p><p>【set THREADS 5】配置线程为5</p><p>【show options】再次查看配置是否正确</p><p>&nbsp;</p><p>【第七步】暴力破解</p><p>确认无误，开始破解【使用exploit命令】，破解出正确账号密码会用+号开头出现在最后</p><p>一行，账号：root 密码：123456</p><p>&nbsp;</p><p>实验结束，关闭虚拟机</p>