$("#s-publishedArticles").on("click",function(){if($chkBoxes=$(".g-body-importMD").find("input:checked"),0==$chkBoxes.length)return alert("请至少选择一个分类"),!1;var t=confirm("确认发布吗？");if(t){var e=new FileReader,o=new FormData,a=new FormData($(".g-body-importMD")[0]),s=a.get("htmlF");$("input:checkbox[name=category]:checked").each(function(t){o.append("categoryList",$(this).val())});var i=s.name.replace(".html","");e.readAsText(s,"UTF-8"),e.onload=function(){var t=this.result;o.append("fileTitleH",i),o.append("fileContextH",t),$(".g-body-importMD-status").html("文章数据发送中...请稍后"),$(".g-body-importMD-status").show(),$.ajax({url:"/addHFHtml_article/",type:"POST",processData:!1,contentType:!1,headers:{"X-CSRFToken":$.cookie("csrftoken")},data:o,success:function(t,e){console.log(t),console.log("请求发送成功!"),e.status>300?($(".g-body-importMD-status").empty(),$(".g-body-importMD-status").html('<div style="color:#f0ad4e">登录身份已过期，请重\t新登录！</div>')):($(".g-body-importMD-status").empty(),$(".g-body-importMD-status").html('<div style="color:#19b955">【'+i+"】发布成功！</div>"))},error:function(){$(".g-body-importMD-status").empty(),$(".g-body-importMD-status").html('<div style="color:#c9302c">服务器数据处理失败，详情\t查看服务器日志</div>')}})}}});