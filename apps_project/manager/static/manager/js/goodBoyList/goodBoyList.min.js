function listShow(){$(".g-body-goodBoy-list tbody").html('<h3 style="width:400%;display:flex;color:#f0ad4e;justify-content:center;">数据刷新中，请稍后...</h3>'),$.ajax({url:"/listShowJson/",type:"POST",headers:{"X-CSRFToken":$.cookie("csrftoken")},success:function(t){$(".g-body-goodBoy-list tbody").empty();for(var o=0;o<t.length;o++){var e=`\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class="g-body-goodBoy-id">${t[o].id}</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input class="g-body-goodBoy-name" autocomplete="off" type="text" name='note' value='${t[o].name}'>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input class="g-body-goodBoy-note" autocomplete="off" type="text" name='note' value='${t[o].note}'>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input class="g-body-goodBoy-money" autocomplete="off" type="text" name='money' value='${t[o].money}'>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<div index=${t.length-o} class="g-body-goodBoy-sub">修改</div>\n\t\t\t\t\t\t\t<div index=${t.length-o} class="g-body-goodBoy-del">删除</div>\n\t\t\t\t\t\t\t<div class="g-body-goodBoy-alert-meg"></div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t`;$(".g-body-goodBoy-list tbody").prepend(e)}listAlter(),listDel()}})}function listAdd(){$(".g-body-goodBoy-userSub").click(function(){var t=confirm("确认添加吗？");if(t){var o=$("input")[0].value,e=$("input")[1].value,d=$("input")[2].value;""!=o&&""!=d?($(".g-body-goodBoy-list tbody").html('<h3 style="width:400%;display:flex;color:#f0ad4e;justify-content:center;">增加成功！数据刷新中，请稍后...</h3>'),$.ajax({url:"/addGoodBoyMeg/",type:"POST",headers:{"X-CSRFToken":$.cookie("csrftoken")},data:{name:o,note:e,money:d},success:function(t){$("input").val(""),listShow()},error:function(){$(".g-body-goodBoy-userSub-meg").html('<div style="color:#c9302c">失败！</div>')}})):alert("请完善需要的值！")}})}function listAlter(){$(".g-body-goodBoy-sub").click(function(){var t=confirm("确认修改吗？");if(t){var o=$(this).attr("index")-1,e=$(".g-body-goodBoy-id")[o].innerHTML,d=$(".g-body-goodBoy-name")[o].value,n=$(".g-body-goodBoy-note")[o].value,i=$(".g-body-goodBoy-money")[o].value;""!=d&&""!=i?$.ajax({url:"/alterGoodBoyMeg/",type:"POST",headers:{"X-CSRFToken":$.cookie("csrftoken")},data:{id:e,name:d,note:n,money:i},success:function(t){$(".g-body-goodBoy-alert-meg")[o].innerHTML='<div style="color:#19b955">'+t+"！</div>",setTimeout(function(){$(".g-body-goodBoy-alert-meg")[o].innerHTML=""},1e4)},error:function(){$(".g-body-goodBoy-alert-meg")[o].innerHTML='<div style="color:#c9302c">'+data+"！</div>",setTimeout(function(){$(".g-body-goodBoy-alert-meg")[o].innerHTML=""})}}):alert("请完善需要的值！")}})}function listDel(){$(".g-body-goodBoy-del").click(function(){var t=confirm("确认删除吗？");if(t){var o=$(this).attr("index");o-=1;var e=$(".g-body-goodBoy-id")[o].innerHTML,d=$(".g-body-goodBoy-name")[o].value;$(".g-body-goodBoy-list tbody").html(`<h3 style="width:400%;display:flex;color:#f0ad4e;justify-content:center;">${d}删除成功！数据刷新中，请稍后...</h3>`),$.ajax({url:"/delGoodBoyMeg/",type:"POST",headers:{"X-CSRFToken":$.cookie("csrftoken")},data:{id:e},success:function(){$(".g-body-goodBoy-list tbody").empty(),listShow()},error:function(){$(".g-body-goodBoy-userSub-meg").html('<div style="color:#c9302c">失败！</div>')}})}})}listShow(),listAdd(),listDel();